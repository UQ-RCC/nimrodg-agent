/*--------------------------------------------------------------------------
 * This file is autogenerated from config.h.in 
 * during the cmake configuration of your project. If you need to make changes
 * edit the original file NOT THIS FILE.
 * --------------------------------------------------------------------------*/
#ifndef NIMRODG_AGENT_CONFIG_H_
#define NIMRODG_AGENT_CONFIG_H_

/** @cond */

#cmakedefine NIMRODG_PLATFORM_STRING "@NIMRODG_PLATFORM_STRING@"

#if !defined(NIMRODG_PLATFORM_STRING)
#	error No platform string defined
#endif

#define NIMRODG_HTTP_HEADER_UUID        "X-NimrodG-Agent-UUID"
#define NIMRODG_HTTP_HEADER_TOKEN       "X-NimrodG-File-Auth-Token"

#define NIMRODG_XSTR(s)                 NIMRODG_STR(s)
#define NIMRODG_STR(s)                  #s

/*
 * Major version is also the protocol version.
 * Bump this if for ANY reason the agent can't be used
 * with its corresponding version of Nimrod/G, include a
 * CLI change.
 */
#define NIMRODG_VERSION_MAJOR  1
#define NIMRODG_VERSION_MINOR  4
#define NIMRODG_VERSION_PATCH  0

#define NIMRODG_VERSION_STRING \
	NIMRODG_XSTR(NIMRODG_VERSION_MAJOR) "." \
	NIMRODG_XSTR(NIMRODG_VERSION_MINOR) "." \
	NIMRODG_XSTR(NIMRODG_VERSION_PATCH)

#cmakedefine NIMRODG_USE_WIN32API
#cmakedefine NIMRODG_USE_POSIX

#if defined(NIMRODG_USE_WIN32API)
#   define NIMRODG_DEVNULL "NUL"
#elif defined(NIMRODG_USE_POSIX)
#   define NIMRODG_DEVNULL "/dev/null"
#endif

typedef struct
{
	struct
	{
		const char *sha1;
		const char *description;
		int dirty;
	} git;

	struct
	{
		const char *agent;
		const char *openssl;
		const char *curl;
		const char *uriparser;
		const char *rabbitmq_c;
		const char *libuuid;
	} version;

	struct
	{
		const char *version;
		const char *platform;
		const char *description;
		const char *user_agent;
		const char *dev_null;
	} agent;
} compile_info_t;

#ifdef __cplusplus
extern "C" {
#endif
extern const compile_info_t g_compile_info;
#ifdef __cplusplus
}
#endif

#if defined(_WIN32)
#	if !defined(NOMINMAX)
#		define NOMINMAX
#	endif
#	if !defined(WIN32_LEAN_AND_MEAN)
#		define WIN32_LEAN_AND_MEAN
#	endif
#endif

/** @endcond */

#endif /* NIMRODG_AGENT_CONFIG_H_ */